// 	'/knowledge/frontEnd/': [
// 		{
// 			text: 'HTML',
// 			icon: 'https://s21.ax1x.com/2024/09/19/pAKWX7V.png',
// 			prefix: 'html/',
// 			collapsible: true,
// 			children: [
// 				'html5Tag.md',
// 				'htmlSemanticization.md',
// 				'html5Mobile.md',
// 				{
// 					text: 'Web components',
// 					icon: '',
// 					prefix: 'webComponents/',
// 					collapsible: true,
// 					children: ['webComponents'],
// 				},
// 			],
// 		},
// 		{
// 			text: 'CSS',
// 			icon: 'https://s21.ax1x.com/2024/09/19/pAKWvkT.png',
// 			prefix: 'css/',
// 			collapsible: true,
// 			children: [
// 				'01_cssCenter.md',
// 				'02_bfc.md',
// 				'03_cssModules.md',
// 				'04_cssVariable.md',
// 				'05_responsiveLayout.md',
// 			],
// 		},
// 		{
// 			text: 'JavaScript',
// 			icon: 'https://s21.ax1x.com/2024/09/19/pAKfpp4.png',
// 			prefix: 'javascript/',
// 			collapsible: true,
// 			children: [
// 				'01_this.md',
// 				'closure.md',
// 				'asynchronous.md',
// 				'promise.md',
// 				'objectPrototype.md',
// 				'es6Next.md',
// 				'other.md',
// 				{
// 					text: 'API',
// 					prefix: 'api/',
// 					collapsible: true,
// 					children: 'structure',
// 				}
// 			],
// 		},
// 		{
// 			text: '前端框架',
// 			icon: 'https://s21.ax1x.com/2024/09/19/pAKWxtU.png',
// 			prefix: 'frame/',
// 			collapsible: true,
// 			children: [
// 				'frameAnalogy.md',
// 				{
// 					text: '学一学 React',
// 					prefix: 'react/',
// 					collapsible: true,
// 					children: [
// 						'reactBasics.md',
// 						'reactJSX.md',
// 						'reactVirtualDomDiff.md',
// 						'reactFiber.md',
// 						{
// 							text: '核心源码分析',
// 							prefix: 'reactSourceCode/',
// 							collapsible: true,
// 							children: [
// 								'env.md',
// 								'createReactElement.md',
// 								'reactArchitecture.md',
// 								'reactRender.md'
// 							]
// 						},
// 						'reactHooks.md'
// 					],
// 				},
// 				{
// 					text: '学一学 Vue',
// 					prefix: 'vue/',
// 					collapsible: true,
// 					children: [
// 						'vueBasics.md',
// 						{
// 							text: '相关核心原理',
// 							prefix: 'vuePrinciple/',
// 							collapsible: true,
// 							children: 'structure',
// 						},
// 						{
// 							text: '核心源码分析',
// 							prefix: 'vueSourceCode/',
// 							collapsible: true,
// 							children: 'structure',
// 						},
// 						{
// 							text: 'Vuex 数据流管理',
// 							prefix: 'vuex/',
// 							collapsible: true,
// 							children: 'structure',
// 						}
// 					],
// 				},
// 				// 'frameIsomorphic.md',
// 				// 'frameStudy.md'
// 			],
// 		},
// 		{
// 			text: '前端工程化',
// 			icon: 'screwdriver-wrench',
// 			prefix: 'engineering/',
// 			collapsible: true,
// 			children: [
// 				'index.md',
// 				{
// 					text: '聊聊脚手架',
// 					prefix: 'scaffoldingTool/',
// 					collapsible: true,
// 					children: 'structure',
// 				},
// 				{
// 					text: '关于自动化构建',
// 					prefix: 'automatedConstruction/',
// 					collapsible: true,
// 					children: 'structure',
// 				},
// 				{
// 					text: '深入浅出模块化',
// 					prefix: 'module/',
// 					collapsible: true,
// 					children: 'structure',
// 				},
// 				{
// 					text: '打包工具有哪些',
// 					prefix: 'buildTool/',
// 					collapsible: true,
// 					children: [
// 						'index.md',
// 						{
// 							text: 'Webpack',
// 							prefix: 'webpack/',
// 							collapsible: true,
// 							children: [
// 								'introduce.md',
// 								'loader.md',
// 								'plugin.md',
// 								'experience.md',
// 								'prodOptimize.md'
// 							]
// 						},
// 						'rollup.md',
// 						'parcel.md'
// 						// 'gulpAndWebpack.md',
// 					],
// 				},
// 				{
// 					text: '规范化标准',
// 					prefix: 'normalize/',
// 					collapsible: true,
// 					children: 'structure',
// 				}
// 				// 'webpack.md',
// 				// 'codeSpecification.md',
// 				// 'projectOrganizationDesign.md',
// 			],
// 		},
// 		// {
// 		// 	text: '前端性能优化',
// 		// 	icon: 'bug-slash',
// 		// 	prefix: 'performanceOptimization/',
// 		// 	collapsible: true,
// 		// 	children: [
// 		// 		// 'monitorAndError.md',
// 		// 		'problems.md',
// 		// 		// 'reactFrame.md'
// 		// 	],
// 		// },
// 		// {
// 		// 	text: '前端编程思维和算法',
// 		// 	icon: 'brain',
// 		// 	prefix: 'programmingThinkingAndAlgorithms/',
// 		// 	collapsible: true,
// 		// 	children: [
// 		// 		'designPattern.md',
// 		// 		// 'dataStructure.md',
// 		// 		// 'function.md',
// 		// 		// 'algorithms.md',
// 		// 		// 'wx.md'
// 		// 	],
// 		// },
// 	],
//   '/knowledge/interview/': [
//     {
// 			text: 'CSS',
// 			icon: 'https://s21.ax1x.com/2024/09/19/pAKWvkT.png',
// 			prefix: 'css/',
// 			collapsible: true,
// 			children: 'structure',
// 		},
// 		{
// 			text: 'DOM',
// 			icon: 'https://s21.ax1x.com/2024/09/19/pAKWvkT.png',
// 			prefix: 'dom/',
// 			collapsible: true,
// 			children: 'structure',
// 		},
// 		{
// 			text: 'Web API',
// 			icon: 'https://s21.ax1x.com/2024/09/19/pAKWvkT.png',
// 			prefix: 'webAPI/',
// 			collapsible: true,
// 			children: 'structure',
// 		},
// 		{
// 			text: 'JavaScript',
// 			icon: 'https://s21.ax1x.com/2024/09/19/pAKWvkT.png',
// 			prefix: 'javascript/',
// 			collapsible: true,
// 			children: 'structure',
// 		},
//   ],
// 	'/project/': [
// 		// 'bill.md',
// 		// 'billReconfiguration.md'
// 	],
// 	'/work/': 'structure',
// 	// '/manage/': 'structure',
// });

import { type DefaultTheme } from 'vitepress'

const FrontEndBasePath = '/knowledge/frontEnd/'
const SolutionBasePath = '/knowledge/solution/'
const WorkBasePath = '/work/'
const ManageBasePath = '/manage/'
export const sidebar = {
  [FrontEndBasePath]: { base: FrontEndBasePath, items: frontEnd() },
  [SolutionBasePath]: { base: SolutionBasePath, items: solution() },
  [WorkBasePath]: { base: WorkBasePath, items: work() },
  [ManageBasePath]: { base: ManageBasePath, items: manage() }
}

function frontEnd(): DefaultTheme.SidebarItem[] {
  const htmlBase = createLink(FrontEndBasePath, 'html')
  const cssBase = createLink(FrontEndBasePath, 'css')
  const javascriptBase = createLink(FrontEndBasePath, 'javascript')
  const frameBase = createLink(FrontEndBasePath, 'frame')
  const engineering = createLink(FrontEndBasePath, 'engineering')
  const architecture = createLink(engineering, 'architecture')
  return [
    {
      text: 'HTML',
      base: `${htmlBase}/`,
      collapsed: false,
      items: [
        {
          text: '进击的 HTML5',
          link: '01_H5Tag.md'
        },
        {
          text: '如何理解 HTML5 语义化',
          link: '02_H5Semanticization.md'
        },
        {
          text: '移动端 H5 注意事项总结',
          link: '03_H5Mobile.md'
        },
        {
          text: 'Web Components',
          base: createLink(htmlBase, 'webComponents/'),
          items: [
            {
              text: '不可忽视的 Web Components',
              link: '01_WebComponents.md'
            }
          ]
        }
      ]
    },
    {
      text: 'CSS',
      base: `${cssBase}/`,
      collapsed: true,
      items: [
        {
          text: '多种方式实现居中',
          link: '01_cssCenter.md'
        },
        {
          text: 'BFC 背后的布局问题',
          link: '02_bfc.md'
        },
        {
          text: 'CSS Modules 理论和实战',
          link: '03_cssModules.md'
        },
        {
          text: 'CSS 变量和主题切换优雅实现',
          link: '04_cssVariable.md'
        },
        {
          text: '响应式布局和 Bootstrap 的实现分析',
          link: '05_responsiveLayout.md'
        },
        {
          text: 'CSS 最佳实践',
          link: '06_cssBestPractice.md'
        }
      ]
    },
    {
      text: 'JavaScript',
      base: `${javascriptBase}/`,
      collapsed: true,
      items: [
        {
          text: 'this 到底指向谁呢？',
          link: '01_this.md'
        }
      ]
    },
    // {
    // 	text: '前端框架',
    // 	base: `${frameBase}/`,
    // 	collapsed: true,
    // 	items: [
    // 		{
    // 			text: '触类旁通各种框架',
    // 			link: '01_frameAnalogy.md',
    // 		},
    // 		{
    // 			text: 'React',
    // 			base: createLink(frameBase, 'react/'),
    // 			collapsed: true,
    // 			items: [
    // 				{
    // 					text: '基础回顾',
    // 					link: '01_reactBasics.md',
    // 				},
    // 			]
    // 		}
    // 	],
    // }
    {
      text: '前端工程化',
      base: `${engineering}/`,
      collapsed: true,
      items: [
        {
          text: '工程规范',
          base: createLink(engineering, 'specification/'),
          collapsed: true,
          items: [
            {
              text: '基于 ESLint 9 前端工程规范化最佳实践',
              link: '01_eslint.md'
            }
          ]
        },
        {
          text: '工程架构',
          base: createLink(engineering, 'architecture/'),
          collapsed: true,
          items: [
            {
              text: 'monorepo 架构',
              base: createLink(architecture, 'monorepo/'),
              collapsed: true,
              items: [
                {
                  text: '基于 pnpm monorepo 项目工程化设计',
                  link: '01_pnpm & monorepo.md'
                }
              ]
            }
          ]
        }
      ]
    }
  ]
}

function solution(): DefaultTheme.SidebarItem[] {
  return [
    {
      text: 'Cursor 通用解决方案',
      link: '01_cursor.md'
    }
  ]
}

function work(): DefaultTheme.SidebarItem[] {
  return [
    {
      text: '如何做好项目 1 号位',
      link: '01_bitOne.md'
    }
  ]
}

function manage(): DefaultTheme.SidebarItem[] {
  return [
    {
      text: '新晋主管需要做什么',
      link: '01_needTodo.md'
    }
  ]
}

function createLink(base: string, path: string): string {
  return `${base.replace(/\/$/, '')}/${path.replace(/^\//, '')}`
}
